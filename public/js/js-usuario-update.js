$("#btnUserUpdate").on("click",function(e){e.preventDefault();var t=$("#formUserUpdate"),a=t.attr("action"),o=t.serialize();$.ajax({url:a,type:"POST",data:o,beforeSend:function(){$(".progress").show()},complete:function(){$(".progress").hide()},success:function(e){var t='<div class="alert alert-success"><button class="close" data-close="alert"></button>El registro se actualizó satisfactoriamente.</div>';$(".form-content").html(t)},error:function(e){if(422===e.status){var t=e.responseJSON,a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>';$.each(t,function(e,t){a+="<li>"+t[0]+"</li>"}),a+="</ul></div>",$(".form-content").html(a)}else a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>',a+="<li>Se ha producido un error. Intentelo de nuevo.</li>",a+="</ul></div>",$(".form-content").html(a)}})}),$("#btnTarifaUpdate").on("click",function(e){e.preventDefault();var t=$("#formTarifaUpdate"),a=t.attr("action"),o=t.serialize();$.ajax({url:a,type:"POST",data:o,beforeSend:function(){$(".progress").show()},complete:function(){$(".progress").hide()},success:function(e){var t='<div class="alert alert-success"><button class="close" data-close="alert"></button>El registro se actualizó satisfactoriamente.</div>';$(".form-content").html(t)},error:function(e){if(422===e.status){var t=e.responseJSON,a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>';$.each(t,function(e,t){a+="<li>"+t[0]+"</li>"}),a+="</ul></div>",$(".form-content").html(a)}else a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>',a+="<li>Se ha producido un error. Intentelo de nuevo.</li>",a+="</ul></div>",$(".form-content").html(a)}})});var myDropzone=new Dropzone(".dropzone",{dictDefaultMessage:"Da clic para seleccionar el archivo",dictMaxFilesExceeded:"No se puede cargar más archivos",method:"POST",headers:{"X-CSRF-Token":"{!! csrf_token() !!}"},maxFiles:1,autoProcessQueue:!1,success:function(e,t){var a="/imagenes/"+t.carpeta+"250x250/"+t.archivo;$("#fotoUsuario").attr("src",a),myDropzone.removeAllFiles()}});$("#btnFotoCambiar").on("click",function(){myDropzone.processQueue()}),$("#btnFotoEliminar").on("click",function(){myDropzone.removeAllFiles()}),$("#btnFotoEliminarActual").on("click",function(e){e.preventDefault();var t=$(this).data("url");$.ajax({url:t,type:"POST",headers:{"X-CSRF-Token":"{!! csrf_token() !!}"},beforeSend:function(){$(".progress").show()},complete:function(){$(".progress").hide()},success:function(e){var t="/imagenes/user.png";$("#fotoUsuario").attr("src",t);var a='<div class="alert alert-success"><button class="close" data-close="alert"></button>El registro se actualizó satisfactoriamente.</div>';$(".form-content").html(a)},error:function(e){if(422===e.status){var t=e.responseJSON,a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>';$.each(t,function(e,t){a+="<li>"+t[0]+"</li>"}),a+="</ul></div>",$(".form-content").html(a)}else a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>',a+="<li>Se ha producido un error. Intentelo de nuevo.</li>",a+="</ul></div>",$(".form-content").html(a)}})}),$("#btnPasswordUpdate").on("click",function(e){e.preventDefault();var t=$("#formPasswordUpdate"),a=t.attr("action"),o=t.serialize();$.ajax({url:a,type:"POST",data:o,beforeSend:function(){$(".progress").show()},complete:function(){$(".progress").hide()},success:function(e){var a;a=1==e.correo?"La contraseña se envío por correo al usuario.":"";var o='<div class="alert alert-success"><button class="close" data-close="alert"></button>El registro se actualizó satisfactoriamente. '+a+"</div>";$(".form-content").html(o),t[0].reset(),$(".checker span").removeClass("checked")},error:function(e){if(422===e.status){var t=e.responseJSON,a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>';$.each(t,function(e,t){a+="<li>"+t[0]+"</li>"}),a+="</ul></div>",$(".form-content").html(a)}else a='<div class="alert alert-danger"><button class="close" data-close="alert"></button><ul>',a+="<li>Se ha producido un error. Intentelo de nuevo.</li>",a+="</ul></div>",$(".form-content").html(a)}})});