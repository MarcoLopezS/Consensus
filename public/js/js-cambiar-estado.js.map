{"version":3,"sources":["js-cambiar-estado.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"js-cambiar-estado.js","sourcesContent":["$(\".btn-estado\").on(\"click\", function(e){\r\n    e.preventDefault();\r\n\r\n    var id = $(this).data(\"id\");\r\n    var url = $(this).data(\"url\");\r\n    var title = $(this).data(\"title\");\r\n\r\n    bootbox.confirm({\r\n        message: \"Desea cambiar el estado de <strong>\" + title + \"</strong>\",\r\n        closeButton: false,\r\n        buttons: {\r\n            confirm: {\r\n                label: \"Cambiar estado\",\r\n                className: \"green\"\r\n            },\r\n            cancel: {\r\n                label: \"Cancelar\"\r\n            }\r\n        },\r\n        callback: function(result){\r\n            if(result == true)\r\n            {\r\n                $.ajax({\r\n                    url: url,\r\n                    type: 'POST',\r\n                    headers: { 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') },\r\n                    beforeSend: function() { $(\"#progressbar\").show(); },\r\n                    complete: function() { $(\"#progressbar\").hide(); },\r\n                    success: function(result){\r\n                        if(result.estado == 1){ $(\"#estado-\"+id+\" span\").removeClass('label-default').addClass('label-success').text('Activo'); }\r\n                        else if(result.estado == 0){ $(\"#estado-\"+id+\" span\").removeClass('label-success').addClass('label-default').text('No activo'); }\r\n                        $(\"#mensajeAjax\").show();\r\n                        $(\"#mensajeAjax .alert\").removeClass('alert-danger').addClass('alert-success');\r\n                        $(\"#mensajeAjax .alert span\").text(\"Se cambi√≥ es estado del registro: \" + title);\r\n                    },\r\n                    error: function(result){\r\n                        $(\"#mensajeAjax\").show();\r\n                        $(\"#mensajeAjax .alert\").removeClass('alert-success').addClass('alert-danger');\r\n                        $(\"#mensajeAjax .alert span\").text(\"Se produjo un eror al cambiar el estado. Intentarlo nuevamente.\");\r\n                    }\r\n\r\n                });\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n});"]}